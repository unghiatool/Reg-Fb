<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lời Chúc Mừng</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="not-loaded">
    <div class="container" id="greeting-page">
        <h1 class="hello-text">HELLO</h1>
        <p class="vietnamese-text">Chúc Mừng Ngày Nhà Giáo Việt Nam</p>
        <button class="action-button" onclick="showFlowerAnimation()">
            Nhấn vào đây
        </button>
    </div>

    <div class="flower-animation-container hidden" id="animation-page">
        <div class="wishes-text">
            <p id="giaovien"></p>
            <p id="loichuc1"></p>
            <p id="loichuc2"></p>
            <p id="loichuc3"></p>
            <p id="loichuc4"></p>
            <p class="signature">Ký tên: <a href="https://m.me/ungnghiaA">Uông Văn Nghĩa</a></p>
        </div>
        <div class="night"></div>
        <div class="flowers">
            <div class="flower flower--1">
              <div class="flower__leafs flower__leafs--1">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__white-circle"></div>

                <div class="flower__light flower__light--1"></div>
                <div class="flower__light flower__light--2"></div>
                <div class="flower__light flower__light--3"></div>
                <div class="flower__light flower__light--4"></div>
                <div class="flower__light flower__light--5"></div>
                <div class="flower__light flower__light--6"></div>
                <div class="flower__light flower__light--7"></div>
                <div class="flower__light flower__light--8"></div>

              </div>
              <div class="flower__line">
                <div class="flower__line__leaf flower__line__leaf--1"></div>
                <div class="flower__line__leaf flower__line__leaf--2"></div>
                <div class="flower__line__leaf flower__line__leaf--3"></div>
                <div class="flower__line__leaf flower__line__leaf--4"></div>
                <div class="flower__line__leaf flower__line__leaf--5"></div>
                <div class="flower__line__leaf flower__line__leaf--6"></div>
              </div>
            </div>

            <div class="flower flower--2">
              <div class="flower__leafs flower__leafs--2">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__white-circle"></div>

                <div class="flower__light flower__light--1"></div>
                <div class="flower__light flower__light--2"></div>
                <div class="flower__light flower__light--3"></div>
                <div class="flower__light flower__light--4"></div>
                <div class="flower__light flower__light--5"></div>
                <div class="flower__light flower__light--6"></div>
                <div class="flower__light flower__light--7"></div>
                <div class="flower__light flower__light--8"></div>

              </div>
              <div class="flower__line">
                <div class="flower__line__leaf flower__line__leaf--1"></div>
                <div class="flower__line__leaf flower__line__leaf--2"></div>
                <div class="flower__line__leaf flower__line__leaf--3"></div>
                <div class="flower__line__leaf flower__line__leaf--4"></div>
              </div>
            </div>

            <div class="flower flower--3">
              <div class="flower__leafs flower__leafs--3">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__white-circle"></div>

                <div class="flower__light flower__light--1"></div>
                <div class="flower__light flower__light--2"></div>
                <div class="flower__light flower__light--3"></div>
                <div class="flower__light flower__light--4"></div>
                <div class="flower__light flower__light--5"></div>
                <div class="flower__light flower__light--6"></div>
                <div class="flower__light flower__light--7"></div>
                <div class="flower__light flower__light--8"></div>

              </div>
              <div class="flower__line">
                <div class="flower__line__leaf flower__line__leaf--1"></div>
                <div class="flower__line__leaf flower__line__leaf--2"></div>
                <div class="flower__line__leaf flower__line__leaf--3"></div>
                <div class="flower__line__leaf flower__line__leaf--4"></div>
              </div>
            </div>

            <div class="grow-ans" style="--d:1.2s">
              <div class="flower__g-long">
                <div class="flower__g-long__top"></div>
                <div class="flower__g-long__bottom"></div>
              </div>
            </div>

            <div class="growing-grass">
              <div class="flower__grass flower__grass--1">
                <div class="flower__grass--top"></div>
                <div class="flower__grass--bottom"></div>
                <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                <div class="flower__grass__overlay"></div>
              </div>
            </div>

            <div class="growing-grass">
              <div class="flower__grass flower__grass--2">
                <div class="flower__grass--top"></div>
                <div class="flower__grass--bottom"></div>
                <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                <div class="flower__grass__overlay"></div>
              </div>
            </div>

            <div class="grow-ans" style="--d:2.4s">
              <div class="flower__g-right flower__g-right--1">
                <div class="leaf"></div>
              </div>
            </div>

            <div class="grow-ans" style="--d:2.8s">
              <div class="flower__g-right flower__g-right--2">
                <div class="leaf"></div>
              </div>
            </div>

            <div class="grow-ans" style="--d:2.8s">
              <div class="flower__g-front">
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
                  <div class="flower__g-front__leaf"></div>
                </div>
                <div class="flower__g-front__line"></div>
              </div>
            </div>

            <div class="grow-ans" style="--d:3.2s">
              <div class="flower__g-fr">
                <div class="leaf"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
                <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
              </div>
            </div>

            <div class="long-g long-g--0">
              <div class="grow-ans" style="--d:3s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:2.2s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:3.4s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:3.6s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--1">
              <div class="grow-ans" style="--d:3.6s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:3.8s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:4s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:4.2s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--2">
              <div class="grow-ans" style="--d:4s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:4.2s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:4.4s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:4.6s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--3">
              <div class="grow-ans" style="--d:4s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:4.2s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:3s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:3.6s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--4">
              <div class="grow-ans" style="--d:4s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:4.2s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:3s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:3.6s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--5">
              <div class="grow-ans" style="--d:4s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:4.2s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:3s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:3.6s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--6">
              <div class="grow-ans" style="--d:4.2s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:4.4s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:4.6s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:4.8s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>

            <div class="long-g long-g--7">
              <div class="grow-ans" style="--d:3s">
                <div class="leaf leaf--0"></div>
              </div>
              <div class="grow-ans" style="--d:3.2s">
                <div class="leaf leaf--1"></div>
              </div>
              <div class="grow-ans" style="--d:3.5s">
                <div class="leaf leaf--2"></div>
              </div>
              <div class="grow-ans" style="--d:3.6s">
                <div class="leaf leaf--3"></div>
              </div>
            </div>
        </div>
    </div>
    <script>
        function tachChuDau(ten) {
            if (!ten) return "";
            ten = ten.trim().toLowerCase();
            const parts = ten.split(" ");
            return parts[0];
        }
        function giaiMaTen(encoded) {
            if (!encoded) return null;
            try {
                const decoded = decodeURIComponent(escape(atob(encoded)));
                return decoded;
            } catch (e) {
                return null;
            }
        }
        function getQueryParam() {
            const urlParams = new URLSearchParams(window.location.search);
            const h = urlParams.get('h')
            const ten = giaiMaTen(h)
            const giaovien = document.getElementById('giaovien');
            const loichuc1 = document.getElementById('loichuc1');
            const loichuc2 = document.getElementById('loichuc2');
            const loichuc3 = document.getElementById('loichuc3');
            const loichuc4 = document.getElementById('loichuc4');
            if (ten!==null){
              xungho = tachChuDau(ten)
              giaovien.textContent = `Kính gửi ${ten}`;
              loichuc1.textContent = `Nhân ngày Nhà Giáo Việt Nam 20/11`;
              loichuc2.textContent = `Xin gửi đến ${xungho} lời chúc tốt đẹp nhất`;
              loichuc3.textContent = `Chúc ${xungho} luôn mạnh khỏe, hạnh phúc`;
              loichuc4.textContent = `Và ngập tràn niềm vui!`;
            }else {
              giaovien.textContent = ``;
              loichuc1.textContent = ``;
              loichuc2.textContent = ``;
              loichuc3.textContent = ``;
              loichuc4.textContent = ``;
            }
        }

        function showFlowerAnimation() {
            document.getElementById('greeting-page').classList.add('hidden');
            const animationPage = document.getElementById('animation-page');
            animationPage.classList.remove('hidden');
            setTimeout(() => {
                 onloadFlowerAnimation();
            }, 10);
        }
        function onloadFlowerAnimation() {
            const animationPage = document.getElementById('animation-page');
            const body = document.body;
            if (body.classList.contains("not-loaded")) {
                const c = setTimeout(() => {
                    body.classList.remove("not-loaded");
                    clearTimeout(c);
                }, 1000);
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
             document.body.classList.remove('not-loaded');
             document.body.style.display = 'flex';
             document.body.style.alignItems = 'center';
             document.body.style.justifyContent = 'center';
             document.body.style.minHeight = '100vh';
             document.body.style.backgroundColor = '#000000';
             document.body.style.color = '#ffffff';
             getQueryParam();
        });
    </script>
</body>
</html>